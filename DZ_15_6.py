# –ó–∞–¥–∞–Ω–∏–µ No6
# üìå –ù–∞–ø–∏—à–∏—Ç–µ –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∏–∑ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ –∏ –ø–æ–ª—É—á–∞–µ—Ç –Ω–∞ –≤—Ö–æ–¥ –ø—É—Ç—å –¥–æ
# –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –Ω–∞ –ü–ö.
# üìå –°–æ–±–µ—Ä–∏—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–º –≤ –≤–∏–¥–µ –æ–±—ä–µ–∫—Ç–æ–≤ namedtuple.
# üìå –ö–∞–∂–¥—ã–π –æ–±—ä–µ–∫—Ç —Ö—Ä–∞–Ω–∏—Ç:
# ‚óã –∏–º—è —Ñ–∞–π–ª–∞ –±–µ–∑ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –∏–ª–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–∞–ª–æ–≥–∞,
# ‚óã —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ, –µ—Å–ª–∏ —ç—Ç–æ —Ñ–∞–π–ª,
# ‚óã —Ñ–ª–∞–≥ –∫–∞—Ç–∞–ª–æ–≥–∞,
# ‚óã –Ω–∞–∑–≤–∞–Ω–∏–µ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –∫–∞—Ç–∞–ª–æ–≥–∞.
# üìå –í –ø—Ä–æ—Ü–µ—Å—Å–µ —Å–±–æ—Ä–∞ —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –≤ —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª –∏—Å–ø–æ–ª—å–∑—É—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ.

import logging
import argparse
from pathlib import Path
from collections import namedtuple

logging.basicConfig(filename='task15_04.log', encoding='utf-8', level=logging.INFO)
logger = logging.getLogger(__name__)

File = namedtuple('File', ['–∏–º—è', '—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ', '—ç—Ç–æ_–∫–∞—Ç–∞–ª–æ–≥', '—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π_–∫–∞—Ç–∞–ª–æ–≥'])

def read_dir(–ø—É—Ç—å):
    –ø—É—Ç—å = Path(–ø—É—Ç—å)
    for —Ñ–∞–π–ª in –ø—É—Ç—å.iterdir():
        —ç—Ç–æ_–∫–∞—Ç–∞–ª–æ–≥ = —Ñ–∞–π–ª.is_dir()
        –∏–º—è = —Ñ–∞–π–ª.stem if —ç—Ç–æ_–∫–∞—Ç–∞–ª–æ–≥ else —Ñ–∞–π–ª.name
        —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ = —Ñ–∞–π–ª.suffix if not —ç—Ç–æ_–∫–∞—Ç–∞–ª–æ–≥ else ""
        —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π_–∫–∞—Ç–∞–ª–æ–≥ = —Ñ–∞–π–ª.parent.name if —ç—Ç–æ_–∫–∞—Ç–∞–ª–æ–≥ else —Ñ–∞–π–ª.parent.stem

        f = File(–∏–º—è, —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ, —ç—Ç–æ_–∫–∞—Ç–∞–ª–æ–≥, —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π_–∫–∞—Ç–∞–ª–æ–≥)
        logger.info(f)

        if f.—ç—Ç–æ_–∫–∞—Ç–∞–ª–æ–≥:
            read_dir(—Ñ–∞–π–ª)

def parse():
    parser = argparse.ArgumentParser(prog='get_path', description='–ü–æ–ª—É—á–∞–µ—Ç –Ω–∞ –≤—Ö–æ–¥ –ø—É—Ç—å –¥–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏', epilog='–ü—Ä–∏–º–µ—Ä: get_path /urok2')
    parser.add_argument('–ø—É—Ç—å', type=str, help='–ü—É—Ç—å –¥–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏')

    args = parser.parse_args()
    read_dir(args.–ø—É—Ç—å)

if __name__ == "__main__":
    parse()


